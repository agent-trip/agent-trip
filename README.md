# Agent Trip

> Planejamento Simples, Viagens Perfeitas.

## √çndice
- [Sobre o Projeto](#sobre-o-projeto)
- [Arquitetura](#arquitetura)
  - [Landing Page](#landing-page)
  - [Backend/APIs](#backendapis)
  - [App mobile](#app-mobile)
- [Funcionalidades](#funcionalidades)
- [Tecnologias Utilizadas](#tecnologias-utilizadas)
- [Contribua](#contribua)
- [Agradecimentos e Refer√™ncias](#agradecimentos-e-refer√™ncias)

---

## Sobre o Projeto
# Proposta de Valor

# Agent Trip

Planejamento Simples, Viagens Perfeitas

### **Proposta de Valor**

> Organize sua viagem do in√≠cio ao fim. Desde a escolha seu destino ao √∫ltimo dia de aventura, com planejamento inteligente e controle total do seu or√ßamento e atividades, o Agent Trip oferece tudo o que voc√™ precisa para transformar suas viagens em experi√™ncias inesquec√≠veis.
> 

---

### Descri√ß√£o Detalhada:

> O **Agent Trip** √© o aplicativo essencial para quem busca organizar e planejar viagens com praticidade e precis√£o. Com foco em proporcionar controle total e personaliza√ß√£o, o app integra todas as etapas do planejamento de uma viagem em uma √∫nica plataforma.
> 

---

### Entrega de Valor:

<aside>
üí°

**O que Agent Trip te proporciona ?**

Planejamento Simples, Viagens Perfeitas

</aside>

1. **Busca por Destinos Ideais:** *Descubra novos lugares com base em seus interesses e hist√≥rico de viagem.*
    - Busca inteligente de destinos
    - Dura√ß√£o da viagem
    - **Melhores Datas para Viajar:** *Receba sugest√µes das datas mais convenientes e econ√¥micas para sua viagem.*
        - An√°lise de melhor per√≠odo (pre√ßos e clima)
        - Planejamento adapt√°vel para viagens com datas fixas ou flex√≠veis.
        - Visualiza√ß√£o de pre√ßos e disponibilidade para diferentes per√≠odos.
        
2. **Passagens √Åreas**
    - Busca e compara√ß√£o de voos
    - Alertas de melhor momento para compra
    - Monitoramento de promo√ß√µes
    - Filtros de prefer√™ncias (hor√°rios, companhias, escalas)
    - Gest√£o de milhas e programas de fidelidade
    - Defini√ß√£o de budget para gasto com Passagens √Åreas
        - Tracking dos pre√ßos das hospedagem desejadas e sua conformidade com budget definido
        
3. **Acomoda√ß√£o**
    - Busca de hospedagens por data
    - Gest√£o de check-in/check-out
    - Comparativo de pre√ßos e localiza√ß√µes
    - Reservas integradas
    - Defini√ß√£o de budget para gasto com hospedagem
        - Tracking dos pre√ßos das Passagens √Åreas desejadas e sua conformidade com budget definido
        
4. **Roteiro de Atividades**
    - Organiza√ß√£o dia a dia
    - Hor√°rios de funcionamento
    - Tempo estimado em cada local
    - Dist√¢ncias e deslocamentos
    - Reservas em restaurantes
    - Ingressos para atra√ß√µes
    
5. **Controle Financeiro**
    - Or√ßamento total da viagem
    - Divis√£o por categorias:
        - Hospedagem
        - Transporte
        - Alimenta√ß√£o
        - Atra√ß√µes
        - Compras
    - Tracking de gastos planejados vs. realizados
    - Cota√ß√£o de moedas em tempo real
    
6. **Aluguel de Ve√≠culos e Locomo√ß√£o**
    - Aluguel de ve√≠culos
        - Comparativo de pre√ßos e locadoras
        - Diferentes categorias de ve√≠culos
        - Pontos de retirada e devolu√ß√£o
    - Transporte p√∫blico
        - Passes e bilhetes
        - Rotas principais
    - Transfers
    - Aplicativos de mobilidade locais
    - Estimativa de custos por op√ß√£o
    - Defini√ß√£o de budget para gasto com locomo√ß√£o
        - Tracking dos pre√ßos de aluguel de carro desejados e sua conformidade com budget definido
        
7. **Aquisi√ß√£o de Moeda Estrangeira** : *Organiza√ß√£o e planejamento geram **economia** financeira e uma viagem tranquila*
    - Planejamento de c√¢mbio
        - Tracking de cota√ß√µes
        - Alertas de melhor momento para compra
        - Comparativo entre casas de c√¢mbio
        - Simulador de valores
    - Modalidades de c√¢mbio
        - Papel moeda
        - Cart√£o pr√©-pago
        - Cart√£o de cr√©dito internacional
    - Defini√ß√£o de estrat√©gia de uso
        - Quanto levar em cada modalidade
        - Onde usar cada tipo de pagamento
        - Reserva de emerg√™ncia
    - Defini√ß√£o de budget para aquisi√ß√£o de moeda estrangeira
        - Tracking de pre√ßos das moedas desejadas e sua conformidade com budget definido
        

### Queremos ir al√©m :

<aside>
üí°

**O que mais Agent Trip pode te proporciona ?**

‚ÄúPlaneje com precis√£o, viaje sem preocupa√ß√µes‚Äù

</aside>

1. **Recomenda√ß√µes Personalizadas:** *Explore sugest√µes √∫nicas de lugares, eventos e atra√ß√µes que combinam com seu perfil.*
    
    **AI Travel Assistant**
    
    - Sugest√µes contextuais
    - Otimiza√ß√£o de roteiros
    - Dicas de planejamento
    - Sugest√µes em tempo real para ajustar o planejamento
    
2. **Conte√∫dos Exclusivos:** *Acesse artigos, v√≠deos e guias detalhados sobre seu destino, reunidos de diversas fontes na internet.*
    - Acesso a guias, artigos e v√≠deos sobre destinos e experi√™ncias.
    - Dicas de viajantes
    - Avalia√ß√µes de locais
    
3. **Pacotes Personalizados para Eventos**
    - Planejamento colaborativo para viagens em grupo e financiamento coletivo para experi√™ncias √∫nicas.
    
4. **Experi√™ncias Inspiradoras**
    - Sugest√µes de passeios e atividades exclusivas no destino.
    
5. **Social e Compartilhamento**
    - Compartilhamento de roteiros
    - Dicas da comunidade
    - Experi√™ncias recomendadas

<aside>
üí°

Com o Agent Trip cada viagem se torna uma experi√™ncia perfeitamente planejada e personalizada, garantindo que voc√™ aproveite ao m√°ximo cada momento.


---

## Arquitetura

### Landing Page
**Arquitetura & Stack**
- Next.js **15.2.4** (App Router) com React 19; renderiza√ß√£o est√°tica for√ßada (`dynamic='force-static'`, `revalidate=false`).
- Layout com SEO avan√ßado + JSON-LD (`src/app/layout.tsx`, `src/lib/jsonld.ts`), `sitemap` e `robots`.
- Pipeline de inscri√ß√£o: **HeroSection ‚Üí EmailSubscriptionForm ‚Üí /api/subscribe** com valida√ß√£o **Firebase App Check** e **Mailchimp**.
- Seguran√ßa: `middleware` com CORS e rate limit (`subscribeRateLimit`).
- UI: **Tailwind 4**, **shadcn/ui**, utilit√°rios `cn/CVA`.

**Implementa√ß√µes-chave**
- `EmailSubscriptionForm` valida e bloqueia submiss√£o sem App Check; feedback visual com √≠cones.
- API `/api/subscribe` integra **Mailchimp**, valida ambiente, decodifica tokens via **Firebase Admin**.
- `middleware` injeta cabe√ßalhos e limita 3 req/min para `/api/subscribe`.

**Funcionalidades**
- Hero pr√©-lan√ßamento, captura de e-mail com bloqueio autom√°tico sem App Check, se√ß√µes ‚ÄúComo Funciona‚Äù e ‚ÄúFeatures‚Äù, SEO + JSON-LD + sitemap/robots. **Status:** est√°vel.

**CI/CD & Qualidade**
- Lint: `next lint`.  
- Testes automatizados, pipelines e badges: **N√£o encontrado** no reposit√≥rio.

**Licen√ßa e Metadados**
- Licen√ßa: **N√£o encontrado**.
- Observa√ß√£o: credenciais `firebase-key.json` versionadas para uso local ‚Äî revisar seguran√ßa.

---

### Backend/APIs
**Arquitetura & Stack**
- **NestJS 11** (TS 5.7, Node 20). M√≥dulos: `Common`, `Currency`, `Content`, `LocationSearch`, `Health`.
- Persist√™ncia h√≠brida: **Prisma + PostgreSQL** (Accelerate) e **Firestore** via Firebase Admin.
- Integra√ß√µes: HG Brasil (cota√ß√µes), **Mapbox Search Box**, **Google Places**, **Cloud Monitoring**, **Firebase Storage**.
- **Swagger** em `/api/docs`, CORS e prefixo global `/api`.

**Implementa√ß√µes-chave**
- **Currency**: CRUD, hist√≥rico, sync com HG Brasil; grava em Firestore e PostgreSQL; scheduler opcional.
- **Content**: CRUD com upload de thumbnail ao Firebase Storage; filtros por tipo/data/tags; espelhamento em PostgreSQL.
- **LocationSearch**: proxy com cache, tokens de sess√£o (autocomplete/detalhes), valid. de origem.
- **Health**: liveness/readiness via `@nestjs/terminus`.
- Infra: Firebase Admin com m√∫ltiplas credenciais e suporte a emuladores; regras versionadas (`firestore.rules`, `storage.rules`).
- Monitoramento: interceptors para m√©tricas HTTP/DB no Cloud Monitoring.

**Funcionalidades**
- Gest√£o de cota√ß√µes com hist√≥rico e sync externa; endpoints de conte√∫do; busca/autocomplete/detalhes de locais; health-checks; endpoint raiz de verifica√ß√£o.  
**Status formal:** **N√£o encontrado** no reposit√≥rio.

**CI/CD & Qualidade**
- GitHub Actions (`.github/workflows/deploy.yml`) em `release/**`: build, auth GCP, **Cloud Run** deploy, regras Firestore/Storage, Cloud Scheduler.  
- `lint`/`test` existem mas **n√£o** executados no workflow.  
- Cobertura/badges: **N√£o encontrado**.  
- Testes presentes apenas para `app.controller` (unit/e2e) e ‚ÄúHello World!‚Äù.

**Licen√ßa e Metadados**
- `package.json`: **UNLICENSED**.  
- Arquivo LICENSE: **N√£o encontrado**.  
- Autor/metadata: n√£o preenchidos.

---

### App mobile
**Arquitetura & Stack**
- Flutter com camadas: `core` (infra/constantes/servi√ßos), `domain` (entidades/DTOs/VOs), `features` (controllers **Cubit** + presentation) e `shared` (componentes).
- Navega√ß√£o: **GoRouter** com `ShellRoute` e `NavigationScaffold` (bottom navigation).
- DI: **injectable/get_it**; rede **Dio**; estado **flutter_bloc**; utilit√°rios **dartz**, **json_serializable**.
- Inicializa√ß√£o: `runZonedGuarded`, `FirebaseSetup().initializeCore`, `configureDependencies()`, `MaterialApp.router` com `AppRouter`.
- Pr√©-aquecimento Firebase: **App Check**, **Remote Config**, **Analytics**, refresh do **FirebaseAuth**.

**Implementa√ß√µes-chave**
- **Auth**: login an√¥nimo, upgrade de credenciais, sociais (Facebook/Google/Apple) com cache, ATT e valida√ß√£o.
- **FirestoreService**: orquestra DTO‚Üîdom√≠nio, upload de docs; v√°rias opera√ß√µes ainda em `mock/TODO`.
- **CurrencyRatesService**: stream √∫nica com `BehaviorSubject` + watchers Firestore.
- **LocationService**: chama API pr√≥pria via Dio com token do `IAuthService` + Crashlytics; fallback para mocks.
- **MapService**: abre Google/Apple/Waze/Web.  
- Logging/erros: `LoggingService` e `ErrorService` ‚Üí Crashlytics; `BusinessAnalyticsService` com TODOs.

**Funcionalidades**
- **Est√°veis**: Splash (aquecimento + roteamento), autentica√ß√£o (email/sociais/upgrade an√¥nimo), onboarding (prefer√™ncias), Home (perfil, conte√∫dos, favoritos, cota√ß√µes), Trips (listar/criar/validar per√≠odos/merge destinos, atualiza√ß√£o via backend quando dispon√≠vel), Favoritos (listar/filtrar/remover/abrir links).
- **Em progresso**: Detalhe de destino; formul√°rios de transporte/hospedagem/atividade; or√ßamento e anexos manipulando apenas estado local (dependem de m√©todos n√£o implementados).

**CI/CD & Qualidade**
- Lint: `flutter_lints`.  
- Testes: apenas template padr√£o de contador.  
- Scripts de cobertura, pipelines e badges: **N√£o encontrado**.

**Licen√ßa e Metadados**
- Licen√ßa: **N√£o encontrado**.  
- `pubspec.yaml` cont√©m metadados (nome, descri√ß√£o, homepage, keywords).  
- Android: flavours `dev/prod` com Firebase BoM/Crashlytics/Perf; iOS: plists separados e entitlements (Sign in with Apple/App Attest).

---

## Funcionalidades
- **Landing Page (est√°vel):** Hero/CTA; captura de e-mail com App Check; `/api/subscribe` (Mailchimp); ‚ÄúComo Funciona‚Äù; ‚ÄúFeatures‚Äù; SEO/JSON-LD/sitemap/robots.
- **Backend/APIs (implementado):** Cota√ß√µes (hist√≥rico + sync HG Brasil); Conte√∫dos (CRUD + thumbnail Storage); Busca de locais (Mapbox/Google com cache/sess√µes); Health.
- **App (est√°veis):** Splash, Auth (email/sociais/upgrade), Onboarding, Home, Trips, Favoritos.  
- **App (em progresso):** Detalhes de destino; formul√°rios Transporte/Hospedagem/Atividade; Or√ßamento/Anexos (estado local, persist√™ncia pendente).

## Tecnologias Utilizadas
- **Landing Page:** Next.js 15.2.4, React 19, Tailwind 4, shadcn/ui, Firebase (App Check/Admin), Mailchimp, framer-motion, rate limit/CORS middleware.
- **Backend/APIs:** NestJS 11 (TS 5.7, Node 20), Prisma + PostgreSQL (Accelerate), Firebase Admin (Firestore/Storage), Mapbox, Google Places, Cloud Monitoring, Swagger.
- **App mobile:** Flutter, flutter_bloc, go_router, injectable/get_it, dio, dartz, json_serializable, Firebase (Auth/Remote Config/App Check/Analytics), file_picker, map_launcher, app_tracking_transparency.


## Contato
> Informa√ß√£o pendente - aguardar resposta do Codex.

## Agradecimentos e Refer√™ncias
> Informa√ß√£o pendente - aguardar resposta do Codex.
